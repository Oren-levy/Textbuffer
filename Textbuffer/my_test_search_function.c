////////////////////////////////////////////////////////////////////////
// COMP2521 19T0 ... assignment 1: Textbuffer ADT submission tests

#include <assert.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

#include "textbuffer.h"
#define TRUE 1
#define FALSE 0
int main (void)
{
#define TEST_1 "line1\nline2\nline3\nline4\nline5\n"
#define TEST_2	"line5\nline6\nline7\n"

// TESTING THE TEXTBUFFER SEARCH FUNCTION

   Textbuffer tb = textbuffer_new (TEST_1);
   assert (tb != NULL);

   int match = textbuffer_search (tb, "line5", FALSE);
   assert(match == 5);

   textbuffer_drop (tb);
   ////////////////////////////////////////////////////////////////////
   ////////////////////////////////////////////////////////////////////
   ////////////////////////////////////////////////////////////////////

// TESTING THE TEXTBUFFER SEARCH FUNCTION

   tb = textbuffer_new (TEST_1);
   assert (tb != NULL);

   match = textbuffer_search (tb, "line4", FALSE);
   assert(match == 4);

   textbuffer_drop (tb);
   ////////////////////////////////////////////////////////////////////
   ////////////////////////////////////////////////////////////////////
   ////////////////////////////////////////////////////////////////////

// TESTING THE TEXTBUFFER SEARCH FUNCTION

   tb = textbuffer_new (TEST_1);
   assert (tb != NULL);

   match = textbuffer_search (tb, "line3", FALSE);
   assert(match == 3);

   textbuffer_drop (tb);
   ////////////////////////////////////////////////////////////////////
   ////////////////////////////////////////////////////////////////////
   ////////////////////////////////////////////////////////////////////

// TESTING THE TEXTBUFFER SEARCH FUNCTION

   tb = textbuffer_new (TEST_1);
   assert (tb != NULL);

   match = textbuffer_search (tb, "line2", FALSE);
   assert(match == 2);

   textbuffer_drop (tb);
   ////////////////////////////////////////////////////////////////////
   ////////////////////////////////////////////////////////////////////
   ////////////////////////////////////////////////////////////////////

// TESTING THE TEXTBUFFER SEARCH FUNCTION

   tb = textbuffer_new (TEST_1);
   assert (tb != NULL);

   match = textbuffer_search (tb, "line1", FALSE);
   assert(match == 1);

   textbuffer_drop (tb);
   ////////////////////////////////////////////////////////////////////
   ////////////////////////////////////////////////////////////////////
   ////////////////////////////////////////////////////////////////////

// TESTING THE TEXTBUFFER SEARCH FUNCTION

   tb = textbuffer_new (TEST_1);
   assert (tb != NULL);

   match = textbuffer_search (tb, "line0", FALSE);
   assert(match == -1);

   textbuffer_drop (tb);
   ////////////////////////////////////////////////////////////////////
   ////////////////////////////////////////////////////////////////////
   ////////////////////////////////////////////////////////////////////

// TESTING THE TEXTBUFFER SEARCH FUNCTION

   tb = textbuffer_new (TEST_1);
   assert (tb != NULL);

   match = textbuffer_search (tb, "line", FALSE);
   assert(match == -1);
   
   textbuffer_drop (tb);
   ////////////////////////////////////////////////////////////////////
   ////////////////////////////////////////////////////////////////////
   //////////////////////////////////////////////////////////////////// 

// TESTING THE TEXTBUFFER SEARCH FUNCTION

   tb = textbuffer_new (TEST_1);
   assert (tb != NULL);

   match = textbuffer_search (tb, "line5", TRUE);
   assert(match == 1);

   textbuffer_drop (tb);
   ////////////////////////////////////////////////////////////////////
   ////////////////////////////////////////////////////////////////////
   ////////////////////////////////////////////////////////////////////

// TESTING THE TEXTBUFFER SEARCH FUNCTION

   tb = textbuffer_new (TEST_1);
   assert (tb != NULL);

   match = textbuffer_search (tb, "line4", TRUE);
   assert(match == 2);

   textbuffer_drop (tb);
   ////////////////////////////////////////////////////////////////////
   ////////////////////////////////////////////////////////////////////
   ////////////////////////////////////////////////////////////////////

// TESTING THE TEXTBUFFER SEARCH FUNCTION

   tb = textbuffer_new (TEST_1);
   assert (tb != NULL);

   match = textbuffer_search (tb, "line3", TRUE);
  assert(match == 3);

   textbuffer_drop (tb);
   ////////////////////////////////////////////////////////////////////
   ////////////////////////////////////////////////////////////////////
   ////////////////////////////////////////////////////////////////////

// TESTING THE TEXTBUFFER SEARCH FUNCTION

   tb = textbuffer_new (TEST_1);
   assert (tb != NULL);

   match = textbuffer_search (tb, "line2", TRUE);
   assert(match == 4);

   textbuffer_drop (tb);
   ////////////////////////////////////////////////////////////////////
   ////////////////////////////////////////////////////////////////////
   ////////////////////////////////////////////////////////////////////

// TESTING THE TEXTBUFFER SEARCH FUNCTION
	   
   tb = textbuffer_new (TEST_1);
   assert (tb != NULL);

   match = textbuffer_search (tb, "line1", TRUE);
   assert(match == 5);

   textbuffer_drop (tb);
   ////////////////////////////////////////////////////////////////////
   ////////////////////////////////////////////////////////////////////
   ////////////////////////////////////////////////////////////////////
	return EXIT_SUCCESS;
}

